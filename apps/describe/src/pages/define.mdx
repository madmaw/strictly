---
layout: layouts/default.astro
page: 'define'
---

 # Define Your Types

One of the goals of @de/form is to provide a type-safe mapping between your display types and your domain types.

## Why not use Zod (or equivalent)?

While [Zod](https://zod.dev/) is a great tool, with many, many features and great supporting libraries, it does not produce 100% introspectable type definitions. Our definitions need to be quite minimal, while Zod's are quite fully featured. The reasons for this are
1. The Typescript compiler is actually fairly limited in how much it processing it will do on a [Mapped Type](https://www.typescriptlang.org/docs/handbook/2/mapped-types.html) before it throws the dreaded `Type instantiation is excessively deep and possibly infinite. ts(2589)` error[^tserror];
2. @de transforms the type definitions and the more variation there is, the more cases the transformers need to deal with (and the more processing we need to do on those mapped types)

It's a definite possibility that someone could write an adapter from Zod to our internal type definitions, but it's not practical to use Zod in place of the internal type definitions.

[^tserror]: ahejlsberg explaining that TS has a hard limit of 50 instantiations/constraints https://github.com/microsoft/TypeScript/issues/30188#issuecomment-469285102

##
